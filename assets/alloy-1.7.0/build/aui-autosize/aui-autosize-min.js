AUI.add("aui-autosize",function(c){var k=c.Lang,h=c.config.doc,f="autosize",e=c.getClassName,a="adjustSize",m="height",p="host",g="innerHTML",b="maxHeight",d="minHeight",o="width",j=[e(f,m,"monitor"),e("field","text","input"),e("helper","hidden","accessible")].join(" "),n="&nbsp;\n&nbsp;",i='<pre class="'+j+'">'+n+"</pre>",l={src:"ui"};Autosize=c.Component.create({NAME:f,NS:f,ATTRS:{maxHeight:{value:1000,setter:"_setAutoDimension"},minHeight:{value:45,setter:"_setAutoDimension"}},EXTENDS:c.Plugin.Base,prototype:{initializer:function(){var q=this;q._renderUI();q._bindUI();q._syncUI();},_bindUI:function(){var q=this;q.onHostEvent("valuechange",q._onValueChange,q);q.after(["maxHeightChange","minHeightChange"],q._syncHeight);q.after(a,q._uiAutoSize);},_onValueChange:function(r){var q=this;q.fire(a);},_renderUI:function(){var x=this;var y=c.Node.create(i);var q=x.get(p);c.getBody().append(y);x._defaultMinHeight=y.height();x._heightMonitor=y;var t=q.getComputedStyle("fontFamily");var z=q.getComputedStyle("fontSize");var s=q.getComputedStyle("fontStyle");var u=q.getComputedStyle("fontWeight");var w=q.getComputedStyle("lineHeight");var v=q.getComputedStyle("letterSpacing");var r=q.getComputedStyle("textTransform");y.setStyles({fontFamily:t,fontSize:z,fontStyle:s,fontWeight:u,lineHeight:w,letterSpacing:v,textTransform:r});if("outerHTML" in y.getDOM()){x._updateContent=x._updateOuterContent;}else{x._updateContent=x._updateInnerContent;}},_setAutoDimension:function(s,r){var q=this;q["_"+r]=s;},_syncUI:function(){var q=this;q._syncHeight();},_syncHeight:function(q){var u=this;var r=u.get(p);var x=u._heightMonitor;var w=x.height();var y=x.height(u.get(b)).height();var s=x.height(u.get(d)).height();x.height("");var v=Math.max(u._defaultMinHeight,s);var t=y;if(v>t){if(q&&q.attrName=="maxHeight"){v=t;}else{t=v;}}u._setAutoDimension(v,m);u.set(d,v,l);u.set(b,t,l);r.height(k.constrain(w,v,t));},_uiAutoSize:function(){var r=this;var v=r.get(p);var s=r._heightMonitor;var w=r._minHeight;var u=r._maxHeight;var t=v.val();s.set(g,"");s.appendChild(h.createTextNode(t));s.setStyle(o,v.getComputedStyle(o));t=s.get(g)+n;r._updateContent(t);var q=k.constrain(s.height(),w,u);if(q!=r._lastHeight){r._lastHeight=q;r._uiSetDim(m,q);}},_uiSetDim:function(s,r){var q=this;var t=q.get(p);t.setStyle(s,r);},_updateInnerContent:function(r){var q=this;return q._heightMonitor.set(g,r);},_updateOuterContent:function(r){var q=this;r=r.replace(/\n/g,"<br />");return q._updateInnerContent(r);}}});c.Plugin.Autosize=Autosize;},"1.7.0",{requires:["aui-base","event-valuechange","plugin"],skinnable:true});